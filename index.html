<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moving Dog Background</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            overflow: hidden;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, #87CEEB, #E0F6FF); /* Subtle sky-like gradient */
        }
        canvas {
            display: block;
        }
    </style>
</head>
<body>
    <canvas id="backgroundCanvas"></canvas>

    <script>
        const canvas = document.getElementById('backgroundCanvas');
        const ctx = canvas.getContext('2d');

        let width = canvas.width = window.innerWidth;
        let height = canvas.height = window.innerHeight;

        const mouse = {
            x: null,
            y: null,
            radius: 150
        };

        window.addEventListener('mousemove', (event) => {
            mouse.x = event.x;
            mouse.y = event.y;
        });
        
        window.addEventListener('mouseout', () => {
            mouse.x = undefined;
            mouse.y = undefined;
        });

        window.addEventListener('resize', () => {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
        });

        // --- Dog Image ---
        const dogImage = new Image();
        // TODO: Replace this placeholder URL with a direct link to your desired dog image.
        // For example: "https://example.com/your-dog-image.png"
        dogImage.src = 'https://cdn-icons-png.flaticon.com/512/91/91544.png'; // A placeholder cute dog icon

        const dog = {
            x: Math.random() * width,
            y: Math.random() * height,
            size: 80,
            speed: 2,
            dx: (Math.random() - 0.5) * 2,
            dy: (Math.random() - 0.5) * 2,
        };

        function drawDog() {
            if (dogImage.complete) {
                ctx.drawImage(dogImage, dog.x - dog.size / 2, dog.y - dog.size / 2, dog.size, dog.size);
            }
        }

        function updateDog() {
            // --- Movement ---
            let currentSpeed = dog.speed;
            let currentDx = dog.dx;
            let currentDy = dog.dy;
            
            // Mouse interaction
            if (mouse.x !== undefined && mouse.y !== undefined) {
                const dxMouse = dog.x - mouse.x;
                const dyMouse = dog.y - mouse.y;
                const distance = Math.sqrt(dxMouse * dxMouse + dyMouse * dyMouse);

                if (distance < mouse.radius) {
                    const angle = Math.atan2(dyMouse, dxMouse);
                    currentDx = Math.cos(angle);
                    currentDy = Math.sin(angle);
                    currentSpeed = dog.speed + 2; // Run away faster
                }
            } else {
                 // Randomly change direction when mouse is out
                if (Math.random() < 0.01) {
                    dog.dx = (Math.random() - 0.5) * 2;
                    dog.dy = (Math.random() - 0.5) * 2;
                }
            }

            // Update potential position
            dog.x += currentDx * currentSpeed;
            dog.y += currentDy * currentSpeed;

            // --- Boundary checks (clamping and bouncing) ---
            // Horizontal
            if (dog.x + dog.size / 2 > width) {
                dog.x = width - dog.size / 2;
                dog.dx = -Math.abs(dog.dx); // Ensure direction is inwards
            } else if (dog.x - dog.size / 2 < 0) {
                dog.x = dog.size / 2;
                dog.dx = Math.abs(dog.dx); // Ensure direction is inwards
            }

            // Vertical
            if (dog.y + dog.size / 2 > height) {
                dog.y = height - dog.size / 2;
                dog.dy = -Math.abs(dog.dy); // Ensure direction is inwards
            } else if (dog.y - dog.size / 2 < 0) {
                dog.y = dog.size / 2;
                dog.dy = Math.abs(dog.dy); // Ensure direction is inwards
            }
        }

        function animate() {
            ctx.clearRect(0, 0, width, height);
            updateDog();
            drawDog();
            requestAnimationFrame(animate);
        }

        dogImage.onload = () => {
            animate();
        };

        // If the image is already cached and loaded
        if (dogImage.complete) {
            animate();
        }
    </script>
</body>
</html>
